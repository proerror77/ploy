# Polymarket Trading Bot Configuration
# Override with environment variables: PLOY_MARKET__WS_URL, etc.

[market]
ws_url = "wss://ws-subscriptions-clob.polymarket.com/ws/market"
rest_url = "https://clob.polymarket.com"
market_slug = "sol-updown-15m"
# SOL 15m UP/DOWN market
# Series ID: 10423
# Gamma API: https://gamma-api.polymarket.com/series/10423

[strategy]
shares = 20                     # Number of shares per leg
window_min = 2                  # Minutes to watch for dump after round start
move_pct = 0.15                 # 15% drop triggers Leg1
sum_target = 0.95               # Raw sum threshold before fees
fee_buffer = 0.005              # 0.5% fee estimate
slippage_buffer = 0.02          # 2% slippage buffer
profit_buffer = 0.01            # 1% minimum profit target
# Effective target = 1 - 0.005 - 0.02 - 0.01 = 0.965

[execution]
order_timeout_ms = 5000         # 5 second timeout for order fills
max_retries = 3                 # Retry order submission up to 3 times
max_spread_bps = 500            # 5% max spread (anti-fake-dump)
poll_interval_ms = 500          # Poll order status every 500ms

[risk]
max_single_exposure_usd = 100   # Max $100 per Leg1
min_remaining_seconds = 30      # Block new Leg1 if < 30s remaining
max_consecutive_failures = 3    # Circuit breaker after 3 failed cycles
daily_loss_limit_usd = 500      # Halt trading if daily loss >= $500
leg2_force_close_seconds = 20   # Force Leg2 action with 20s remaining

[database]
url = "postgres://localhost/ploy"
max_connections = 5

[dry_run]
enabled = true                  # Start in dry run mode for safety

[logging]
level = "info"
json = false

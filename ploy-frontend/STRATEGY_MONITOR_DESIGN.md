# ç­–ç•¥ç›‘æ§é¡µé¢è®¾è®¡

## é¡µé¢ç›®çš„

ç›‘æ§ç³»ç»Ÿä¸­**æ­£åœ¨è¿è¡Œçš„äº¤æ˜“ç­–ç•¥**ï¼Œæ˜¾ç¤ºï¼š
- å“ªäº›è„šæœ¬/ç­–ç•¥æ­£åœ¨è¿è¡Œ
- æ¯ä¸ªç­–ç•¥çš„è¯¦ç»†é…ç½®
- ç›‘æ§ç›®æ ‡ï¼ˆäº¤æ˜“æ ‡çš„ï¼‰
- å®æ—¶ä¸‹å•æƒ…å†µ
- å½“å‰æŒä»“è¯¦æƒ…
- è¿è¡Œç»Ÿè®¡æ•°æ®

---

## é¡µé¢å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç­–ç•¥ç›‘æ§                                                      â”‚
â”‚  ç›‘æ§è¿è¡Œä¸­çš„äº¤æ˜“ç­–ç•¥å’Œå®æ—¶çŠ¶æ€                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸŸ¢ Momentum Strategy                          [è¿è¡Œä¸­]       â”‚
â”‚  è¿è¡Œæ—¶é—´: 2026-01-10 17:30:00                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚  ç›‘æ§ç›®æ ‡                    â”‚  è¿è¡Œç»Ÿè®¡                       â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€                  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€                     â”‚
â”‚  äº¤æ˜“æ ‡çš„: [BTC] [ETH] [SOL] â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  æœ€å°ç§»åŠ¨: 0.15%             â”‚  â”‚ 42   â”‚  â”‚$1,250â”‚          â”‚
â”‚  æœ€å¤§å…¥åœº: 45%               â”‚  â”‚æ€»äº¤æ˜“ â”‚  â”‚å½“å‰PnLâ”‚          â”‚
â”‚  æ¯ç¬”è‚¡æ•°: 100               â”‚  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚  é¢„æµ‹æ¨¡å¼: [å¼€å¯]            â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”          â”‚
â”‚                             â”‚  â”‚  3   â”‚  â”‚ 5åˆ†é’Ÿâ”‚          â”‚
â”‚                             â”‚  â”‚æ´»è·ƒä»“â”‚  â”‚æœ€åäº¤â”‚          â”‚
â”‚                             â”‚  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                               â”‚
â”‚  å½“å‰æŒä»“                                                      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                    â”‚
â”‚  [UP]  Trump YES    100è‚¡ @ $0.45  å½“å‰: $0.52  +$7.00      â”‚
â”‚  [DOWN] Biden NO     50è‚¡ @ $0.60  å½“å‰: $0.58  +$1.00      â”‚
â”‚  [UP]  BTC > 50K   200è‚¡ @ $0.30  å½“å‰: $0.28  -$4.00      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## æ•°æ®ç»“æ„

### RunningStrategy (è¿è¡Œä¸­çš„ç­–ç•¥)

```typescript
interface RunningStrategy {
  id: string;                    // ç­–ç•¥ ID
  name: string;                  // ç­–ç•¥åç§° (å¦‚ "Momentum Strategy")
  status: 'running' | 'stopped' | 'error';  // è¿è¡ŒçŠ¶æ€
  start_time: string;            // å¯åŠ¨æ—¶é—´
  symbols: string[];             // ç›‘æ§çš„äº¤æ˜“æ ‡çš„
  total_trades: number;          // æ€»äº¤æ˜“æ¬¡æ•°
  successful_trades: number;     // æˆåŠŸäº¤æ˜“æ¬¡æ•°
  current_pnl: number;           // å½“å‰ç›ˆäº
  active_positions: number;      // æ´»è·ƒä»“ä½æ•°
  last_trade_time: string | null; // æœ€åäº¤æ˜“æ—¶é—´
  config: {
    min_move: number;            // æœ€å°ç§»åŠ¨ç™¾åˆ†æ¯”
    max_entry: number;           // æœ€å¤§å…¥åœºä»·æ ¼
    shares: number;              // æ¯ç¬”è‚¡æ•°
    predictive: boolean;         // æ˜¯å¦å¼€å¯é¢„æµ‹æ¨¡å¼
  };
}
```

### StrategyPosition (ç­–ç•¥æŒä»“)

```typescript
interface StrategyPosition {
  token_id: string;              // æ ‡çš„ ID
  token_name: string;            // æ ‡çš„åç§°
  side: 'UP' | 'DOWN';          // æ–¹å‘
  shares: number;                // è‚¡æ•°
  entry_price: number;           // å…¥åœºä»·æ ¼
  current_price: number;         // å½“å‰ä»·æ ¼
  unrealized_pnl: number;        // æœªå®ç°ç›ˆäº
  entry_time: string;            // å…¥åœºæ—¶é—´
  duration_seconds: number;      // æŒä»“æ—¶é•¿ï¼ˆç§’ï¼‰
}
```

---

## åŠŸèƒ½ç‰¹æ€§

### 1. ç­–ç•¥åˆ—è¡¨

æ˜¾ç¤ºæ‰€æœ‰è¿è¡Œä¸­çš„ç­–ç•¥ï¼š
- âœ… ç­–ç•¥åç§°å’ŒçŠ¶æ€å¾½ç« 
- âœ… è¿è¡Œæ—¶é—´
- âœ… çŠ¶æ€æŒ‡ç¤ºå™¨ï¼ˆè¿è¡Œä¸­/å·²åœæ­¢/é”™è¯¯ï¼‰

### 2. ç›‘æ§ç›®æ ‡

æ˜¾ç¤ºç­–ç•¥æ­£åœ¨ç›‘æ§çš„å†…å®¹ï¼š
- âœ… äº¤æ˜“æ ‡çš„åˆ—è¡¨ï¼ˆå¾½ç« æ˜¾ç¤ºï¼‰
- âœ… ç­–ç•¥å‚æ•°ï¼ˆæœ€å°ç§»åŠ¨ã€æœ€å¤§å…¥åœºç­‰ï¼‰
- âœ… é¢„æµ‹æ¨¡å¼çŠ¶æ€

### 3. è¿è¡Œç»Ÿè®¡

å®æ—¶ç»Ÿè®¡æ•°æ®ï¼š
- âœ… æ€»äº¤æ˜“æ¬¡æ•°
- âœ… å½“å‰ç›ˆäºï¼ˆå¸¦é¢œè‰²ï¼‰
- âœ… æ´»è·ƒä»“ä½æ•°
- âœ… æœ€åäº¤æ˜“æ—¶é—´

### 4. å½“å‰æŒä»“

æ˜¾ç¤ºç­–ç•¥çš„æ‰€æœ‰æ´»è·ƒä»“ä½ï¼š
- âœ… æ–¹å‘å¾½ç« ï¼ˆUP/DOWNï¼‰
- âœ… æ ‡çš„åç§°
- âœ… è‚¡æ•°å’Œå…¥åœºä»·æ ¼
- âœ… å½“å‰ä»·æ ¼
- âœ… æœªå®ç°ç›ˆäºï¼ˆå¸¦é¢œè‰²ï¼‰

---

## API éœ€æ±‚

### åç«¯éœ€è¦æ·»åŠ çš„ API

#### GET /api/strategies/running

è¿”å›æ‰€æœ‰è¿è¡Œä¸­çš„ç­–ç•¥ï¼š

```json
[
  {
    "id": "momentum-1",
    "name": "Momentum Strategy",
    "status": "running",
    "start_time": "2026-01-10T17:30:00Z",
    "symbols": ["BTCUSDT", "ETHUSDT", "SOLUSDT"],
    "total_trades": 42,
    "successful_trades": 38,
    "current_pnl": 1250.50,
    "active_positions": 3,
    "last_trade_time": "2026-01-10T18:25:00Z",
    "config": {
      "min_move": 0.15,
      "max_entry": 45,
      "shares": 100,
      "predictive": true
    }
  }
]
```

#### GET /api/strategies/:id/positions

è¿”å›ç‰¹å®šç­–ç•¥çš„æŒä»“ï¼š

```json
[
  {
    "token_id": "0x1234...",
    "token_name": "Trump YES",
    "side": "UP",
    "shares": 100,
    "entry_price": 0.45,
    "current_price": 0.52,
    "unrealized_pnl": 7.00,
    "entry_time": "2026-01-10T18:00:00Z",
    "duration_seconds": 1500
  }
]
```

---

## å®æ—¶æ›´æ–°

### WebSocket äº‹ä»¶

ç›‘å¬ä»¥ä¸‹äº‹ä»¶ä»¥å®æ—¶æ›´æ–°ï¼š

1. **strategy_update** - ç­–ç•¥çŠ¶æ€æ›´æ–°
2. **trade** - æ–°äº¤æ˜“
3. **position** - ä»“ä½æ›´æ–°
4. **market** - å¸‚åœºæ•°æ®æ›´æ–°

---

## ä¸å…¶ä»–é¡µé¢çš„åŒºåˆ«

### ä»ªè¡¨ç›˜ (Dashboard)
- æ˜¾ç¤º**æ•´ä½“ç³»ç»Ÿ**çš„ç»Ÿè®¡
- æ±‡æ€»æ‰€æœ‰ç­–ç•¥çš„æ•°æ®
- æ˜¾ç¤ºå¸‚åœºç›‘æ§

### ç­–ç•¥ç›‘æ§ (Strategy Monitor)
- æ˜¾ç¤º**æ¯ä¸ªç­–ç•¥**çš„è¯¦ç»†ä¿¡æ¯
- ç›‘æ§ç›®æ ‡å’Œé…ç½®
- å½“å‰æŒä»“è¯¦æƒ…
- è¿è¡Œç»Ÿè®¡

### äº¤æ˜“å†å² (Trade History)
- æ˜¾ç¤º**å†å²äº¤æ˜“è®°å½•**
- åˆ†é¡µåˆ—è¡¨
- è¿‡æ»¤å’Œæœç´¢

### å®æ—¶æ—¥å¿— (Live Monitor)
- æ˜¾ç¤º**ç³»ç»Ÿæ—¥å¿—æµ**
- ç»ˆç«¯é£æ ¼
- å®æ—¶æ»šåŠ¨

---

## ä½¿ç”¨åœºæ™¯

### åœºæ™¯ 1: ç›‘æ§å¤šä¸ªç­–ç•¥

ç”¨æˆ·è¿è¡Œäº†å¤šä¸ªäº¤æ˜“ç­–ç•¥ï¼š
- Momentum Strategy (åŠ¨é‡ç­–ç•¥)
- Volatility Arbitrage (æ³¢åŠ¨å¥—åˆ©)
- Split Arbitrage (åˆ†å‰²å¥—åˆ©)

åœ¨ç­–ç•¥ç›‘æ§é¡µé¢å¯ä»¥çœ‹åˆ°ï¼š
- æ¯ä¸ªç­–ç•¥çš„è¿è¡ŒçŠ¶æ€
- å„è‡ªçš„ç›‘æ§ç›®æ ‡
- å„è‡ªçš„æŒä»“æƒ…å†µ
- å„è‡ªçš„ç›ˆäºç»Ÿè®¡

### åœºæ™¯ 2: æ£€æŸ¥ç­–ç•¥é…ç½®

ç”¨æˆ·æƒ³ç¡®è®¤ç­–ç•¥æ˜¯å¦æŒ‰é¢„æœŸè¿è¡Œï¼š
- æŸ¥çœ‹ç›‘æ§çš„äº¤æ˜“æ ‡çš„
- ç¡®è®¤å‚æ•°è®¾ç½®ï¼ˆæœ€å°ç§»åŠ¨ã€æœ€å¤§å…¥åœºç­‰ï¼‰
- æ£€æŸ¥é¢„æµ‹æ¨¡å¼æ˜¯å¦å¼€å¯

### åœºæ™¯ 3: ç›‘æ§æŒä»“

ç”¨æˆ·æƒ³æŸ¥çœ‹å½“å‰æ‰€æœ‰æŒä»“ï¼š
- æ¯ä¸ªä»“ä½çš„æ–¹å‘
- å…¥åœºä»·æ ¼å’Œå½“å‰ä»·æ ¼
- æœªå®ç°ç›ˆäº
- æŒä»“æ—¶é•¿

---

## å®ç°çŠ¶æ€

- [x] âœ… é¡µé¢ç»„ä»¶åˆ›å»º
- [x] âœ… UI å¸ƒå±€è®¾è®¡
- [x] âœ… æ•°æ®ç»“æ„å®šä¹‰
- [x] âœ… æ¨¡æ‹Ÿæ•°æ®æ˜¾ç¤º
- [ ] â³ åç«¯ API å®ç°
- [ ] â³ WebSocket å®æ—¶æ›´æ–°
- [ ] â³ ä¸çœŸå®æ•°æ®é›†æˆ

---

**è®¾è®¡æ—¶é—´**: 2026-01-10
**çŠ¶æ€**: âœ… å‰ç«¯å®Œæˆï¼Œç­‰å¾…åç«¯ API

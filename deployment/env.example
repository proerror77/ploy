# Ploy Environment Variables
# Copy this to /opt/ploy/.env and fill in your values.

# Required for live orders (EOA signer)
POLYMARKET_PRIVATE_KEY=

# Optional proxy wallet funder (Magic/email wallet mode)
# POLYMARKET_FUNDER=0x...

# Optional external APIs
# THE_ODDS_API_KEY=
# GROK_API_KEY=

# Runtime config overrides
RUST_LOG=info,ploy=info,sqlx=warn
PLOY_DRY_RUN__ENABLED=true
PLOY_RUN_SQLX_MIGRATIONS=true
PLOY_REQUIRE_SQLX_MIGRATIONS=true
# PLOY_MARKET__MARKET_SLUG=sol-updown-15m
# PLOY_API_PORT=8081
# PLOY_DATABASE__URL=postgres://ploy:password@127.0.0.1:5432/ploy
PLOY_DEPLOYMENTS_FILE=/opt/ploy/data/state/deployments.json

# RPC safety (write methods are blocked unless true)
PLOY_RPC_WRITE_ENABLED=false

# Auto-claimer gas guard/top-up (optional).
# If signer gas is low, claimer pauses automatically.
# To auto-refill signer gas, enable + set dedicated top-up key.
# CLAIMER_MIN_NATIVE_GAS_WEI=5000000000000000
# CLAIMER_AUTO_TOPUP_ENABLED=false
# CLAIMER_AUTO_TOPUP_PRIVATE_KEY=0x...
# CLAIMER_AUTO_TOPUP_TARGET_WEI=20000000000000000
# CLAIMER_AUTO_TOPUP_MAX_PER_TX_WEI=20000000000000000
# CLAIMER_AUTO_TOPUP_DAILY_CAP_WEI=100000000000000000

# Coordinator duplicate guard + conservative crypto allocator baseline.
# These settings are consumed in platform mode.
PLOY_COORDINATOR__DUPLICATE_GUARD_ENABLED=true
PLOY_COORDINATOR__DUPLICATE_GUARD_WINDOW_MS=60000
PLOY_COORDINATOR__HEARTBEAT_STALE_WARN_COOLDOWN_SECS=300
PLOY_RISK__ACCOUNT_RESERVE_PCT=0.15
PLOY_RISK__CIRCUIT_BREAKER_AUTO_RECOVER=true
PLOY_RISK__CIRCUIT_BREAKER_COOLDOWN_SECS=300
PLOY_RISK__CRYPTO_ALLOCATION_PCT=0.6667
PLOY_RISK__SPORTS_ALLOCATION_PCT=0.3333
PLOY_COORDINATOR__CRYPTO_ALLOCATOR_ENABLED=true
PLOY_COORDINATOR__CRYPTO_ALLOCATOR_TOTAL_CAP_USD=100
PLOY_COORDINATOR__CRYPTO_COIN_CAP_BTC_PCT=0.40
PLOY_COORDINATOR__CRYPTO_COIN_CAP_ETH_PCT=0.30
PLOY_COORDINATOR__CRYPTO_COIN_CAP_SOL_PCT=0.20
PLOY_COORDINATOR__CRYPTO_COIN_CAP_XRP_PCT=0.12
PLOY_COORDINATOR__CRYPTO_COIN_CAP_OTHER_PCT=0.10
PLOY_COORDINATOR__CRYPTO_HORIZON_CAP_5M_PCT=0.25
PLOY_COORDINATOR__CRYPTO_HORIZON_CAP_15M_PCT=0.65
PLOY_COORDINATOR__CRYPTO_HORIZON_CAP_OTHER_PCT=0.20
PLOY_COORDINATOR__SPORTS_ALLOCATOR_ENABLED=true
PLOY_COORDINATOR__SPORTS_AUTO_SPLIT_BY_ACTIVE_MARKETS=true
PLOY_COORDINATOR__SPORTS_MARKET_CAP_PCT=0.35

# Workload-specific env files:
# - /opt/ploy/env/sports-pm.env
# - /opt/ploy/env/crypto-dryrun.env

# Polymarket trade tape collector (tick-by-tick executed volume)
# PM_TRADES_POLL_SECS=10
# PM_TRADES_PAGE_LIMIT=200
# PM_TRADES_MAX_PAGES=10
# PM_TRADES_OVERLAP_SECS=120
# PM_TRADES_CONCURRENCY=4

# Optional: trade alerts (set thresholds > 0 to enable DB-backed alerts + logs)
# PM_TRADE_ALERT_MIN_SIZE=0
# PM_TRADE_ALERT_MIN_NOTIONAL=0
# PM_TRADE_BURST_WINDOW_SECS=60
# PM_TRADE_BURST_MIN_SIZE=0
# PM_TRADE_BURST_MIN_NOTIONAL=0
# PM_TRADE_BURST_MIN_TRADES=0
# PM_TRADE_BURST_COOLDOWN_SECS=60
